[server]
host = "0.0.0.0"
port = 4000

[upstream]
url = "http://backend:3000"

[prometheus]
enabled = true

[cache]
default_ttl = "5m"
stale_while_revalidate = "1h"
stale_if_error = "24h"

# Different cache rules for different endpoints
[cache.rules]
"/api/data" = { ttl = "30s", stale = "5m" }
"/api/slow" = { ttl = "2m", stale = "10m" }
"/static/*" = { ttl = "1d" }

[storage]
backend = "memory"
